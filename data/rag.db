CREATE TABLE IF NOT EXISTS documents (
    doc_id INTEGER PRIMARY KEY AUTOINCREMENT,
    file_name TEXT NOT NULL,
    file_type TEXT,
    uploaded_at TEXT
);

CREATE TABLE IF NOT EXISTS chunks (
    chunk_id INTEGER PRIMARY KEY AUTOINCREMENT,
    doc_id INTEGER,
    chunk_text TEXT NOT NULL,
    page_number INTEGER,
    FOREIGN KEY(doc_id) REFERENCES documents(doc_id)
);

CREATE TABLE IF NOT EXISTS retrieval_logs (
    log_id INTEGER PRIMARY KEY AUTOINCREMENT,
    query TEXT,
    retrieved_chunk_ids TEXT,
    avg_score REAL,
    latency_ms REAL,
    timestamp TEXT
);
